# PPRBench

This is the github homepage for the paper **PPRBench: A Process-level Benchmark for LLMs’ Physical Reasoning**.

**What's in this repo:**

1.train.json

The full training set.

2.score.py

This program implements PhysGrader, giving step-by-step process evaluation of LLM's solution to physics problems.

3.extract-equation.py

This program is part of Scoring Rubric Design, as shown in Figure 2 of the paper. It transforms original answer and scoring criteria to refined scoring rubric, in the form of formula-scoring mapping.

4.preprocessing.py

This programs deals with csv format problems.

5.README.md

This file gives examples of the test set, including Question, Original Answer and Scoring criteria, Refined Scoring Rubric, corresponding grading details generated by PhysGrader and the prompt of PhysGrader.


# Test Set Question for Reference:

**(40 points) Uniformly Charged Line Segment and Prolate Spheroidal Capacitor**

1. Consider a uniformly charged straight line segment of length 2c with linear charge density \lambda. Taking the midpoint of the segment as the origin and choosing the direction of the segment as the z-axis, establish a cylindrical coordinate system and determine the electric potential distribution in space.
2. Consider a prolate spheroidal capacitor (a prolate spheroid is obtained by rotating an ellipse about its major axis). The inner electrode is a prolate spheroid with semi-major axis a and focal length c; the outer electrode is a prolate spheroid with semi-major axis A and focal length c, where A > a > c. The major axes of the inner and outer electrodes coincide, and their centers also coincide. The region between the inner and outer electrodes is filled with a dielectric material of relative permittivity \epsilon_r. Determine the capacitance of this capacitor.
3. Continuing from the previous question, given that the filling medium has electrical conductivity \sigma, determine the electrical resistance between the inner and outer electrodes.
4. Continuing further, the above capacitor can be modeled as a pure capacitor in parallel with a pure resistor. This equivalent element is connected in series with an inductor L, a DC power supply, and a switch to form a closed circuit. The DC source has a constant electromotive force and negligible internal resistance. Initially, the switch is open and is suddenly closed at a certain moment. Under what condition on the inductance L will the system reach its steady state in the shortest time?



**Useful mathematical formula:**

\int \frac{\mathrm{d}x}{\sqrt{x^2 + a^2}} = \ln\!\left(x + \sqrt{x^2 + a^2}\right) + C .





# Standard solution:

**Solution**



**(1)** The electric potential to be found is

\phi (r,z) = \int_{-c}^{c}\frac{\lambda\,\mathrm{d}x}{4\pi\epsilon_{0}\sqrt{(z - x)^{2} + r^{2}}} = \frac{\lambda}{4\pi\epsilon_{0}} \ln \frac{z + c + \sqrt{r^{2} + (z + c)^{2}}}{z - c + \sqrt{r^{2} + (z - c)^{2}}} = \frac{\lambda}{4\pi\epsilon_{0}} \ln \frac{c - z + \sqrt{r^{2} + (z - c)^{2}}}{-c - z + \sqrt{r^{2} + (z + c)^{2}}}. \tag{1}



**(2)** The equipotential surfaces of the uniformly charged finite line segment in the previous part satisfy

\frac{z^2}{K^2} + \frac{r^2}{K^2 - c^2} = 1,

where K is related to the potential \phi by

K = c\,\frac{\mathrm{e}^{\frac{4\pi\epsilon_{0}\phi}{\lambda}} + 1} {\mathrm{e}^{\frac{4\pi\epsilon_{0}\phi}{\lambda}} - 1}.

Therefore, the equipotential surfaces of a uniformly charged finite line segment are precisely a family of prolate spheroidal surfaces sharing the same major axis and focal length c.



According to the uniqueness theorem of electrostatics, the electric field produced by the uniformly charged finite line segment can be used as an equivalent replacement for the electric field generated by the charged inner and outer spheroidal capacitor plates in the present problem (with the additional consideration of the relative permittivity \epsilon_r). Hence, the charge on the capacitor plates is equal to the total charge of the uniformly charged line segment:

Q = 2\lambda c. \tag{2}



The potentials of the inner and outer plates of the capacitor are exactly equal to the potentials of the corresponding equipotential surfaces generated by the uniformly charged line segment:

\left\{ \begin{array}{l} \displaystyle \phi_{\text{inner}} = \frac{\lambda}{4\pi\epsilon_{0}\epsilon_{r}} \ln \frac{a + c}{a - c}, \\[1.0ex] \displaystyle \phi_{\text{outer}} = \frac{\lambda}{4\pi\epsilon_{0}\epsilon_{r}} \ln \frac{A + c}{A - c}. \end{array} \right. \tag{3}



Therefore, the capacitance is

C = \frac{Q}{\Delta\phi} = \frac{Q}{\phi_{\text{inner}} - \phi_{\text{outer}}} = \frac{8\pi\epsilon_{0}\epsilon_{r}c} {\ln\!\left(\dfrac{(a + c)(A - c)}{(a - c)(A + c)}\right)}. \tag{4}



**(3)** Considering the relation between steady current fields and electrostatic fields, the microscopic form of Ohm’s law gives

\vec{j} = \sigma \vec{E}. \tag{5}

Choose a closed surface S enclosing the inner plate of the spheroidal capacitor. The current between the plates is then

I = \iint_{S} \vec{j} \cdot \mathrm{d}\vec{S} = \sigma \iint_{S} \vec{E} \cdot \mathrm{d}\vec{S} = \frac{\sigma Q}{\epsilon_{0}\epsilon_{r}}. \tag{6}

Hence, the resistance is

R = \frac{\Delta \phi}{I} = \frac{\phi_{\text{inner}} - \phi_{\text{outer}}}{I} = \frac{\epsilon_{0}\epsilon_{r}}{\sigma}\,\frac{\Delta\phi}{Q} = \frac{\epsilon_{0}\epsilon_{r}}{\sigma C} = \frac{1}{8\pi\sigma c} \ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right). \tag{7}



**(4)** Let the electromotive force of the power supply be U, the charge on the capacitor be q, the current through the equivalent resistance of the capacitor be i, and the current through the inductor be i_L. By Kirchhoff’s laws,

\begin{array}{c} i_{L} = \dfrac{\mathrm{d} q}{\mathrm{d} t} + i, \\[1.0ex] L \dfrac{\mathrm{d} i_{L}}{\mathrm{d} t} + \dfrac{q}{C} = U, \\[1.0ex] \dfrac{q}{C} = i R. \end{array} \tag{10}

Combining these equations yields

\frac{\mathrm{d}^{2} q}{\mathrm{d} t^{2}} + \frac{1}{R C}\frac{\mathrm{d} q}{\mathrm{d} t} + \frac{q}{L C} = \frac{U}{L}. \tag{11}

This is a damped oscillation equation. The fastest approach to steady state corresponds to the critically damped case, i.e., the characteristic equation

\lambda^{2} + \frac{\lambda}{R C} + \frac{1}{L C} = 0

has a repeated root. Therefore,

L = 4R^{2}C = \frac{\epsilon_{0}\epsilon_{r}}{2\pi\sigma^{2}c} \ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right). \tag{12}

In the steady state, q = CU and i = i_{L} = 0.



------



#### **Grading Criteria**





- **Part (1)** (5 points): Eq. (1), 5 points.

- **Part (2)** (14 points):

  Identifying the equipotential surfaces of a uniformly charged finite line segment as prolate spheroids, or equivalently replacing the spheroidal electric field with that of a uniformly charged line segment, 4 points;

  Eq. (2), 2 points;

  Eqs. (3) and (4), 4 points each.

- **Part (3)** (8 points):

  Eqs. (5) and (6), 2 points each;

  Eq. (7), 4 points.

- **Part (4)** (13 points):

  Eqs. (8), (9), and (10), 2 points each;

  Eq. (11), 3 points;

  Eq. (12), 4 points.

  



# **Refined Scoring Rubric**



**Question (1) (5 points):**



- Equation (1),

  \phi (r,z) = \int_{-c}^{c}\frac{\lambda\,\mathrm{d}x}{4\pi\epsilon_{0}\sqrt{(z - x)^{2} + r^{2}}} = \frac{\lambda}{4\pi\epsilon_{0}}\ln \frac{z + c + \sqrt{r^{2} + (z + c)^{2}}}{z - c + \sqrt{r^{2} + (z - c)^{2}}} = \frac{\lambda}{4\pi\epsilon_{0}}\ln \frac{c - z + \sqrt{r^{2} + (z - c)^{2}}}{-c - z + \sqrt{r^{2} + (z + c)^{2}}} \tag{1}

  5 points.





**Question (2) (14 points):**



- Identifying that the equipotential surfaces of a uniformly charged finite line segment are prolate spheroidal surfaces, or equivalently that the electric field of a uniformly charged line segment can be used to replace the electric field of the prolate spheroidal capacitor: 4 points.

- Equation (2),

  Q = 2\lambda c \tag{2}

  2 points.

- Equation (3),

  \left\{ \begin{array}{l} \displaystyle \phi_{\text{inner}} = \frac{\lambda}{4\pi\epsilon_{0}\epsilon_{r}}\ln \frac{a + c}{a - c},\\[1.0ex] \displaystyle \phi_{\text{outer}} = \frac{\lambda}{4\pi\epsilon_{0}\epsilon_{r}}\ln \frac{A + c}{A - c} \end{array} \right. \tag{3}

  4 points.

- Equation (4),

  C = \frac{Q}{\Delta\phi} = \frac{Q}{\phi_{\text{inner}} - \phi_{\text{outer}}} = \frac{8\pi\epsilon_{0}\epsilon_{r}c} {\ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right)} \tag{4}

  4 points.





**Question (3) (8 points):**



- Equation (5),

  \vec{j} = \sigma \vec{E} \tag{5}

  2 points.

- Equation (6),

  I = \iint_{S} \vec{j} \cdot \mathrm{d}\vec{S} = \sigma \iint_{S} \vec{E} \cdot \mathrm{d}\vec{S} = \frac{\sigma Q}{\epsilon_{0}\epsilon_{r}} \tag{6}

  2 points.

- Equation (7),

  R = \frac{\Delta \phi}{I} = \frac{\phi_{\text{inner}} - \phi_{\text{outer}}}{I} = \frac{\epsilon_{0}\epsilon_{r}}{\sigma}\frac{\Delta\phi}{Q} = \frac{\epsilon_{0}\epsilon_{r}}{\sigma C} = \frac{1}{8\pi\sigma c} \ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right) \tag{7}

  4 points.





**Question (4) (13 points):**



- Equation (8),

  i_{L} = \frac{\mathrm{d} q}{\mathrm{d} t} + i \tag{8}

  2 points.

- Equation (9),

  L \frac{\mathrm{d} i_{L}}{\mathrm{d} t} + \frac{q}{C} = U \tag{9}

  2 points.

- Equation (10),

  \frac{q}{C} = i R \tag{10}

  2 points.

- Equation (11),

  \frac{\mathrm{d}^{2} q}{\mathrm{d} t^{2}} + \frac{1}{R C}\frac{\mathrm{d} q}{\mathrm{d} t} + \frac{q}{L C} = \frac{U}{L} \tag{11}

  3 points.

- Equation (12),

  L = 4R^{2}C = \frac{\epsilon_{0}\epsilon_{r}}{2\pi\sigma^{2}c} \ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right) \tag{12}

  4 points.



# Grading Details

**Per-Question Grading**



**Question (1) (5 points):**



- The student wrote down the integral expression for the electric potential:

  V(r, z) = \frac{\lambda}{4\pi \epsilon_0} \int_{-c}^{c} \frac{\mathrm{d}z'}{\sqrt{r^2 + (z - z')^2}},

  which is equivalent to the integral part of Equation (1) in the grading rubric → **5 points**.

- The student further evaluated the integral and obtained

  V(r, z) = \frac{\lambda}{4\pi \epsilon_0} \ln \!\left( \frac{c + \sqrt{r^2 + (z - c)^2}}{-c + \sqrt{r^2 + (z + c)^2}} \right).

  This expression is algebraically equivalent to the second or third logarithmic form of Equation (1) in the rubric (noting that, after appropriate sign manipulations such as multiplying numerator and denominator by -1 and rearranging, the standard form is recovered). The physical meaning and dimensions are fully equivalent → already included in the credit for Equation (1); no additional points are awarded.





**Subtotal for this question:** **5 points**.



------



**Question (2) (14 points):**



- The student did not explicitly state that “the equipotential surfaces of a uniformly charged finite line segment are prolate spheroidal surfaces,” nor that its electric field can be used as an equivalent replacement for that of a prolate spheroidal capacitor → not present → **0 points**.

- The formula Q = \sigma S appears, but this is a surface-charge expression and not the relation between total charge and line charge density. Equation (2) in the rubric is Q = 2\lambda c, representing the total charge of the line segment. The student did not establish the relation between Q, \lambda, and c → Equation (2) missing → **0 points**.

- The student adopted an approximately uniform electric-field model E = \frac{\sigma}{\epsilon_0 \epsilon_r} and obtained V = \frac{\sigma}{\epsilon_0 \epsilon_r}(A - a), which is inconsistent with the non-uniform field of a true spheroidal capacitor. The logarithmic expressions for the inner and outer potentials in Equation (3) are not given → Equation (3) missing → **0 points**.

- The student obtained the capacitance

  C = \frac{\epsilon_0 \epsilon_r S}{A - a},

  which corresponds to the parallel-plate approximation rather than the correct analytical solution. Equation (4) in the rubric is

  C = \frac{8\pi\epsilon_{0}\epsilon_{r}c} {\ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right)}.

  The forms are completely different and the physical model is incorrect → Equation (4) missing → **0 points**.





**Subtotal for this question:** **0 points**.



------



**Question (3) (8 points):**



- The student wrote the relation between current density and electric field:

  \vec{j} = \sigma \vec{E},

  which is equivalent to Equation (5) in the rubric → **2 points**.

- The student did not use Gauss’s theorem or a flux integral to derive the total current I, but instead directly assumed R = \frac{d}{\sigma S}. The surface integral form

  I = \iint_S \vec{j} \cdot \mathrm{d}\vec{S} = \sigma \iint_S \vec{E} \cdot \mathrm{d}\vec{S},

  and the result I = \frac{\sigma Q}{\epsilon_0 \epsilon_r} do not appear → Equation (6) missing → **0 points**.

- The student gave R = \frac{A - a}{\sigma S}, which is the resistance formula for parallel plates. Equation (7) in the rubric is

  R = \frac{1}{8\pi\sigma c} \ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right),

  derived from the exact electric-field distribution. The student’s expression has a different form and relies on an incorrect geometric approximation → Equation (7) missing → **0 points**.





**Subtotal for this question:** **2 points**.



------



**Question (4) (13 points):**



- The student did not introduce the relation among the inductor-branch current i_L, the capacitor current \mathrm{d}q/\mathrm{d}t, and the shunt current i → Equation (8), i_L = \frac{\mathrm{d}q}{\mathrm{d}t} + i, missing → **0 points**.

- No loop equation involving the inductor, capacitor, and voltage source was written → Equation (9), L \frac{\mathrm{d} i_L}{\mathrm{d} t} + \frac{q}{C} = U, missing → **0 points**.

- Ohm’s law on the resistive branch, \frac{q}{C} = iR (Equation (10)), does not appear → **0 points**.

- No second-order differential equation is presented → Equation (11) missing → **0 points**.

- The student finally proposed L = R C, which is merely an analogy to the RC time constant. Equation (12) in the rubric requires the explicit result

  L = 4 R^2 C = \frac{\epsilon_{0}\epsilon_{r}}{2\pi\sigma^{2}c} \ln\!\left(\frac{(a + c)(A - c)}{(a - c)(A + c)}\right).

  The student only gave L = RC, and the expressions for R and C themselves are incorrect, so the correct form cannot be obtained → Equation (12) missing → **0 points**.





**Subtotal for this question:** **0 points**.



------



**Total Score:**

Overall score for this problem:

5 + 0 + 2 + 0 = \boxed{7}.



# Prompt

**Translation into English:**



------



You are a physics teacher. Your task is to grade the **Student’s Solution** according to the **Grading Rubric**. Do **not** add or subtract points on your own.



------





### **Input Format**





You will be given two parts:



1. **Grading Rubric**:

   Includes equation labels (e.g., \(\tag{1}, \tag{2}, \tag{3}\)), equations (or original standard formulas), and the corresponding scores (e.g., 1 point, 2 points, 3 points, 4 points).

2. **Student’s Solution**:

   The student’s answer, including both text and equations.





------





### **Grading Rules**





1. **Equation-by-equation grading**

   

   - If the student’s solution contains an equation that is identical to, physically equivalent to, or dimensionally equivalent to an equation in the grading rubric, award the corresponding points.
   - An equation that has already received points in the student’s solution should not be scored again.
   - An equation in the grading rubric that has already been awarded points should not be scored again.
   - **Criteria for equivalent equations**: algebraic manipulation, symbol changes, variable substitution, and equivalent forms are allowed. The logic must be fully equivalent and the physical dimensions must match. If the physical dimensions are not equivalent, no points are awarded.

   

2. **Partial credit mechanism**

   

   - If a sub-question requires multiple equations for full credit, the student must write all of them to obtain the full score.
   - If only some of the required equations are correct, award only the corresponding partial points.
   - Do not award extra points for derivations that are not included in the grading rubric.

   

3. **Strict adherence to the grading rubric**

   

   - Do not award extra points based on solution length, writing style, or complexity.
   - If the student’s equation is completely incorrect or missing, award zero points.

   

4. **Textual explanation does not replace equations**

   

   - If the student only provides verbal explanations without writing equations, no points are awarded.
   - If the verbal explanation clearly states a physical relationship that is explicitly equivalent to a formula (e.g., “the equipotential surfaces are rotational ellipsoids”), the corresponding points may be awarded.

   





------





### **Output Format**





Please output the following structure:



1. **[Per-question Scoring]**:

   

   - List the score for each sub-question in order, explaining which equations were correctly identified and awarded points.
   - Use “Eq. ①”, “Eq. ②”, etc., corresponding to the labels in the grading rubric.
   - If an equation does not appear, label it as “Not present”.

   

2. **[Total Score]**:

   

   - Sum the scores from all sub-questions and report the student’s final score. Use \boxed{} to display the result.

   





------





### **Output Example**





*(The following is only an example; do not copy the scores directly.)*



**[Per-question Scoring]**



Question (1) (5 points):



- The student wrote the integral expression for \phi(r, z), equivalent to standard Eq. ① → 5 points.





Question (2) (14 points):



- The student stated that the equipotential surfaces are rotational ellipsoids → 4 points.

- Eq. ② not present → 0 points.

- An expression equivalent to Eq. ③ appears → 4 points.

- An expression equivalent to Eq. ④ appears → 4 points.

  Subtotal for this question: 12 points.





Question (3) (8 points):



- An expression equivalent to Eq. ⑤ appears → 2 points.

- Eq. ⑥ not present → 0 points.

- An expression equivalent to Eq. ⑦ appears → 4 points.

  Subtotal for this question: 6 points.





Question (4) (13 points):



- An expression equivalent to Eq. ⑧ appears → 2 points.

- An expression equivalent to Eq. ⑨ appears → 2 points.

- Eq. ⑩ not present → 0 points.

- An expression equivalent to Eq. ⑪ appears → 3 points.

- Eq. ⑫ not present → 0 points.

  Subtotal for this question: 7 points.





**[Total Score]**

Total score for this problem: 5 + 12 + 6 + 7 = \boxed{30}.

